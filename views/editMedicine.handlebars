


    <div class="form-section">
        <div class="card2">

            <div class="edit-form">
<div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit Your Medicine</h5>
</div>
<form action="/update_medicine" method="POST" class="edit-med-form">

            <div class="form-group">
              <input type="hidden" class="form-control"  name="med_id" value="{{med._id}}">
              <input type="text" class="form-control" placeholder="Medicine Name" name="name" value="{{med.name}}" required>

            </div>
            <div class="form-group">
              <div class="input-flex ">
                <input type="number" class="form-control" value="{{med.quantity}}" placeholder="Quantity" name="quantity"  required>
                <select class="form-control unit" name="unit" value="{{med.unit}}">
                  <option value="Piece"  {{#ifequal med.unit 'Piece'}} selected {{/ifequal}}>Piece</option>
                  <option value="ML" {{#ifequal med.unit 'Ml'}} selected {{/ifequal}}>ml</option>
                </select>
                <input type="email" class="form-control other-unit" placeholder="Unit" style="display: none;"
                  name="other_unit">
              </div>

            </div>
            <div class="form-group">
              <div class="input-flex">
                <select class="form-control freq-edit" name="frequency">
                 
                  <option value="everyday" {{#ifequal med.frequency 'everyday'}} selected {{/ifequal}}>Everyday</option>
                  <option value="once" {{#ifequal med.frequency 'once'}} selected {{/ifequal}}>Once a week</option>\
                  <option value="custom" {{#ifequal med.frequency 'custom'}} selected {{/ifequal}}>custom</option>
                  
                  
              
                </select>
                  
                <select class="form-control onceday-edit" name="onceday" style="display: none;">
                  <option selected disabled>Select Day</option>
                  <option value="mon" {{#ifequal med.onceday 'mon'}} selected {{/ifequal}}>Monday</option>
                  <option value="tue" {{#ifequal med.onceday 'tue'}} selected {{/ifequal}}>Tuesday</option>
                  <option value="wed" {{#ifequal med.onceday 'wed'}} selected {{/ifequal}}>Wednesday</option>
                  <option value="thu" {{#ifequal med.onceday 'thu'}} selected {{/ifequal}}>Thursday</option>
                  <option value="fri" {{#ifequal med.onceday 'fri'}} selected {{/ifequal}}>Friday</option>
                  <option value="sat" {{#ifequal med.onceday 'sat'}} selected {{/ifequal}}>Saturday</option>
                  <option value="sun" {{#ifequal med.onceday 'sun'}} selected {{/ifequal}}>Sunday</option>
                </select>
              </div>
            </div>
            <div class="form-group">
            <div class="weekDays-selector edit-weekdays" style="display: none;">
            
                      <input type="checkbox" id="weekday-mon" class="weekday" name="week_mon" {{#if med.mon}} checked {{/if}} />
                      <label for="weekday-mon">MON</label>
                      <input type="checkbox" id="weekday-tue" class="weekday" name="week_tue" {{#if med.tue}} checked {{/if}}/>
                      <label for="weekday-tue">TUE</label>
                      <input type="checkbox" id="weekday-wed" class="weekday" name="week_wed" {{#if med.wed}} checked {{/if}}/>
                      <label for="weekday-wed">WED</label>
                      <input type="checkbox" id="weekday-thu" class="weekday" name="week_thu" {{#if med.thu}} checked {{/if}}/>
                      <label for="weekday-thu">THU</label>
                      <input type="checkbox" id="weekday-fri" class="weekday" name="week_fri" {{#if med.fri}} checked {{/if}}/>
                      <label for="weekday-fri">FRI</label>
                      <input type="checkbox" id="weekday-sat" class="weekday" name="week_sat" {{#if med.sat}} checked {{/if}}/>
                      <label for="weekday-sat">SAT</label>
                      <input type="checkbox" id="weekday-sun" class="weekday" name="week_sun" {{#if med.sun}} checked {{/if}}/>
                      <label for="weekday-sun">SUN</label>
              </div>
              </div>
            <div class="form-group">
              <div class="input-flex">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="inlineCheckbox1-edit" value="true" name="morning" {{#ifequal med.morning 'true'}} checked {{/ifequal}}>
                  <label class="form-check-label" for="inlineCheckbox1-edit">Morning</label>
                </div>
                <input type="time" class="form-control morning-select-edit morningtime" style="display: none;" name="morningtime" value="{{med.morningtime}}" min="05:00" max="11:59" pattern="[0-9]{2}:[0-9]{2}">
             
                
              </div>

            </div>
            <div class="form-group">
              <div class="input-flex">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="inlineCheckbox2-edit" value="true" name="noon" {{#ifequal med.noon 'true'}} checked {{/ifequal}}>
                  <label class="form-check-label" for="inlineCheckbox2-edit">Noon</label>
                </div>
               <input type="time" class="form-control noon-select-edit noontime" style="display: none;" name="noontime" value="{{med.noontime}}" min="12:00" max="04:59">
             
               
              </div>

            </div>
            <div class="form-group">
              <div class="input-flex">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="inlineCheckbox3-edit" value="true" name="evening" {{#ifequal med.evening 'true'}} checked {{/ifequal}}>
                  <label class="form-check-label" for="inlineCheckbox3-edit">Evening</label>
                </div>
                <input type="time" class="form-control evening-select-edit eveningtime" style="display: none;" name="eveningtime" value="{{med.eveningtime}}" min="17:00" max="20:59">
              
              </div>

            </div>
            <div class="form-group">
              <div class="input-flex">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="inlineCheckbox4-edit" value="true" name="night" {{#ifequal med.night 'true'}} checked {{/ifequal}}>
                  <label class="form-check-label" for="inlineCheckbox4-edit">Night</label>
                </div>
               <input type="time" class="form-control night-select-edit nighttime" style="display: none;" name="nighttime" value="{{med.nighttime}}" min="20:30" max="23:59">

               
              </div>

            </div>
            
           
             <div class="custom-control custom-switch form-group">
             
                <input type="checkbox" class="custom-control-input notify-switch" id="customSwitches" name="notification" {{#if med.notification}}checked {{/if}}>
              <label class="custom-control-label" for="customSwitches" style="font-size: 14px;">Notifications <span class="indicator">On</span> </label>
             
            </div>
            <div class="modal-footer">

              
              <a href="/delete_medicine/{{med._id}}" onclick="return confirm('Are you sure you want to Delete this Medicine?')" type="button" class="btn btn-primary primary-btn text-white" data-bs-dismiss="modal">Delete</a>
              <button type="Submit" class="btn btn-primary secondary-btn">Save</button>
            </div>

          </form>
          </div>
          </div>
    </div>



<script>
  if({{med.morning}})
  {
    document.querySelector(".morning-select-edit").style.display='block';
  }
  if({{med.noon}})
  {
    document.querySelector(".noon-select-edit").style.display='block';
  }
  if({{med.evening}})
  {
    document.querySelector(".evening-select-edit").style.display='block';
  }
  if({{med.night}})
  {
    document.querySelector(".night-select-edit").style.display='block';
  }
  if("{{med.frequency}}" === 'once')
  {
    document.querySelector(".onceday-edit").style.display='block';
  }
  if("{{med.frequency}}" === 'custom')
  {
    document.querySelector(".weekDays-selector").style.display='flex';
  }
</script>